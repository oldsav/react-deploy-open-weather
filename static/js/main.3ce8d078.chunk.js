(this["webpackJsonpopen-weather"]=this["webpackJsonpopen-weather"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n.n(r),s=n(6),i=n.n(s),u=(n(14),n(2)),l=c.a.createContext();var o=function(e){var t=c.a.useContext(l),n=t.renderCities,r=t.PLACES;return Object(a.jsx)("section",{className:"loc-container",children:Object(a.jsx)("ul",{className:"list-city",children:n(r)})})};var h=function(e){var t=c.a.useContext(l),n=t.activeItem,r=t.renderWeather,s=t.place;return Object(a.jsxs)("div",{className:"weather-container",children:[Object(a.jsx)("h1",{children:"Weather"}),Object(a.jsx)("h3",{children:n}),n?r(s):Object(a.jsx)("h2",{children:"Select location"})]})},j=n(3),d=n.n(j),m=n(5),p=n(7),b=n(8),f=function(){function e(){var t=this;Object(p.a)(this,e),this.getWeather=function(){var e=Object(m.a)(d.a.mark((function e(n,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(n,"&lon=").concat(a,"&exclude=hourly,daily&appid=12fd4da75395cb6056f98eb17ae910b5"));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}return Object(b.a)(e,[{key:"getResource",value:function(){var e=Object(m.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();var x=function(){var e=new f,t=c.a.useState(0),n=Object(u.a)(t,2),r=n[0],s=n[1],i=c.a.useState(0),j=Object(u.a)(i,2),d=j[0],m=j[1],p=c.a.useState(null),b=Object(u.a)(p,2),x=b[0],O=b[1],v=c.a.useState(null),w=Object(u.a)(v,2),g=w[0],C=w[1];return c.a.useEffect((function(){!function(t,n){e.getWeather(t,n).then((function(e){O(e)}))}(r,d)}),[g]),Object(a.jsx)(l.Provider,{value:{renderWeather:function(e){var t=e.current.weather[0].main,n=Object(u.a)(e.current.weather,1)[0];if(e)return Object(a.jsxs)("ul",{className:"weather-detail",children:[Object(a.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(n.icon,"@2x.png"),alt:"img"}),Object(a.jsxs)("li",{className:"item",children:["Condition: ",t]}),Object(a.jsxs)("li",{className:"item",children:["Clouds: ",e.current.clouds,"%"]}),Object(a.jsxs)("li",{className:"item",children:["Pressure: ",e.current.pressure," hPa"]}),Object(a.jsxs)("li",{className:"item",children:["Wind speed: ",e.current.wind_speed,"m/s"]}),Object(a.jsxs)("li",{className:"item",children:["Temperature: ",e.current.temp,"\u212a/",(e.current.temp-273.15).toFixed(1),"\u2103"]})]})},PLACES:[{name:"Moscow",lat:55.755825,lon:37.617298},{name:"Kazan",lat:55.830433,lon:49.066082},{name:"Yoshkar-Ola",lat:56.63189,lon:47.89793},{name:"Cheboksary",lat:56.134837,lon:47.243472}],place:x,renderCities:function(e){return e.map((function(e){return Object(a.jsx)("li",{className:g===e.name?"item-city active":"item-city",onClick:function(){C(e.name),s(e.lat),m(e.lon)},children:Object(a.jsx)("a",{href:"#",children:e.name})},e.name)}))},activeItem:g},children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(o,{}),Object(a.jsx)(h,{})]})})};i.a.render(Object(a.jsx)(x,{}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.3ce8d078.chunk.js.map